<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://xamarin.com/schemas/2014/forms"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="LimbPreservationTool.Views.WifiPage"
             xmlns:xct="http://xamarin.com/schemas/2020/toolkit"
             xmlns:vm="clr-namespace:LimbPreservationTool.ViewModels">



    <ContentPage.BindingContext>
        <vm:WifiViewModel />
    </ContentPage.BindingContext>

    <ContentPage.Content>

        <Grid BackgroundColor="NavajoWhite" >
            <Grid.RowDefinitions>
                <RowDefinition Height="2.5*"/>
                <RowDefinition Height="6*"/>
                <RowDefinition Height="1.3*"/>
            </Grid.RowDefinitions>

            <StackLayout Grid.Row="0" 
                         HeightRequest="60">
                <Label Text="Wound, Ischemia, and Foot Infection Classification System" 
                       FontSize="30" 
                       Margin="50,10" 
                       TextColor="Black" 
                       FontAttributes= "Bold"
                       HorizontalOptions="CenterAndExpand" 
                       HorizontalTextAlignment="Center" 
                       VerticalOptions="CenterAndExpand" />
                <BoxView VerticalOptions="Center"
                         HorizontalOptions="Center"
                         HeightRequest="2"
                         WidthRequest="200"  
                         Color="SeaGreen"></BoxView>
                <Label Text="{Binding WifiStatus}" 
                           FontSize="Subtitle" 
                           HorizontalOptions="CenterAndExpand" 
                           HorizontalTextAlignment="Center" 
                           Margin="50,10" 
                           TextColor="{Binding WifiColor}"/>
            </StackLayout>

            <ScrollView Grid.Row="1" 
                        VerticalOptions="CenterAndExpand">
                <StackLayout>

                    <Entry Placeholder="Wound Grade" 
                           PlaceholderColor="SlateGray" 
                           Margin="50,10" 
                           BackgroundColor="WhiteSmoke" 
                           TextColor="Black" 
                           xct:CornerRadiusEffect.CornerRadius="10" 
                           Keyboard="Numeric" 
                           Text="{Binding WoundGrade}"/>

                    <Button HorizontalOptions="Center" 
                            VerticalOptions="Center" 
                            Clicked="woundInfoOn"  
                            xct:ShadowEffect.Color="Black"
                            xct:ShadowEffect.OffsetY="0"
                            xct:ShadowEffect.Opacity="0.9"
                            xct:CornerRadiusEffect.CornerRadius="10"
                            xct:ShadowEffect.Radius="10" 
                            Text="Show Wound Info"></Button>
                    <Entry Placeholder="Infection Grade" 
                           PlaceholderColor="SlateGray" 
                           Margin="50,10" 
                           BackgroundColor="WhiteSmoke" 
                           xct:CornerRadiusEffect.CornerRadius="10" 
                           TextColor="Black" 
                           Keyboard="Numeric" 
                           Text="{Binding InfectionGrade}"/>

                    <Button HorizontalOptions="Center" 
                            VerticalOptions="Center" 
                            Clicked="infectionInfoOn" 
                            xct:ShadowEffect.Color="Black"
                            xct:ShadowEffect.OffsetY="0"
                            xct:ShadowEffect.Opacity="0.9"
                            xct:CornerRadiusEffect.CornerRadius="10"
                            xct:ShadowEffect.Radius="10" 
                            Text="Show Infection Info"></Button>
                    <Entry Placeholder="Ischemia Grade (input -1 if unavailable)" 
                           PlaceholderColor="SlateGray" 
                           Margin="50,10" 
                           BackgroundColor="WhiteSmoke" 
                           xct:CornerRadiusEffect.CornerRadius="10" 
                           TextColor="Black" 
                           Keyboard="Numeric" 
                           Text="{Binding IschemiaGrade}"/>
                    <Entry Placeholder="Toe Pressure Grade (in mm hG)" 
                           PlaceholderColor="SlateGray" 
                           Margin="50,10" 
                           BackgroundColor="WhiteSmoke" 
                           TextColor="Black" 
                           xct:CornerRadiusEffect.CornerRadius="10" 
                           Keyboard="Numeric" 
                           Text="{Binding ToePressureGrade}"/>
                    <Entry Placeholder="Ankle Brachial Index" 
                           Margin="50,10" 
                           PlaceholderColor="SlateGray" 
                           BackgroundColor="WhiteSmoke" 
                           TextColor="Black" 
                           xct:CornerRadiusEffect.CornerRadius="10" 
                           Keyboard="Numeric" 
                           Text="{Binding AnkleBrachialIndex}"/>
                    <Entry Placeholder="Ankle Systolic Pressure (in mm hG)" 
                           PlaceholderColor="SlateGray" 
                           Margin="50,10" 
                           BackgroundColor="WhiteSmoke" 
                           xct:CornerRadiusEffect.CornerRadius="10" 
                           TextColor="Black" 
                           Keyboard="Numeric" 
                           Text="{Binding AnkleSystolicPressure}"/>

                    

                </StackLayout>
            </ScrollView>

            <Button Grid.Row="2" Margin="50,20" Text="View WIfi Score"
                            Command="{Binding CalculateWiFICommand}"
                            xct:ShadowEffect.Color="Black"
                            xct:ShadowEffect.OffsetY="0"
                            xct:ShadowEffect.Opacity="0.9"
                            xct:CornerRadiusEffect.CornerRadius="10"
                            xct:ShadowEffect.Radius="10" 
                            BackgroundColor="SeaGreen"
                            TextColor="White" />

            <ScrollView Grid.Row="1" 
                        VerticalOptions="CenterAndExpand" 
                        HorizontalOptions="CenterAndExpand">
                <StackLayout>
                    <ContentView x:Name="infectionView" 
                                 Padding="10, 0" 
                                 IsVisible="false" 
                                 AbsoluteLayout.LayoutBounds="0, 0, 1, 1" 
                                 AbsoluteLayout.LayoutFlags="All">
                        <StackLayout VerticalOptions="Center" 
                                     HorizontalOptions="Center">
                            <StackLayout Orientation="Vertical" 
                                         Padding="10" 
                                         BackgroundColor="White">
                                <Label TextColor="Black" 
                                       VerticalOptions="Center" 
                                       HorizontalOptions="Center" 
                                       VerticalTextAlignment="Center" 
                                       Text="Infection Grading Info:"></Label>
                                <Label TextColor="Black" 
                                       VerticalOptions="Center" 
                                       HorizontalOptions="Center" 
                                       VerticalTextAlignment="Center" 
                                       Text="0: No Symptoms or signs of infection"></Label>
                                <Label TextColor="Black" 
                                       VerticalOptions="Center" 
                                       HorizontalOptions="Center" 
                                       VerticalTextAlignment="Center" 
                                       Text="1: Local infection involving only skin, SQ tissue"></Label>
                                <Label TextColor="Black" 
                                       VerticalOptions="Center" 
                                       HorizontalOptions="Center" 
                                       VerticalTextAlignment="Center" 
                                       Text="2: Local infection with erythema >2cm, or involving structures deeper than skin, SQ (eg. abscess, osteomyelitis)"></Label>
                                <Label TextColor="Black" 
                                       VerticalOptions="Center" 
                                       HorizontalOptions="Center" 
                                       VerticalTextAlignment="Center" 
                                       Text="3: Local infection with signs of SIRS"></Label>
                                <Button HorizontalOptions="Center" 
                                        VerticalOptions="Center" 
                                        Clicked="infectionViewOff" 
                                        Text="Close"></Button>
                            </StackLayout>
                        </StackLayout>
                    </ContentView>
                </StackLayout>
            </ScrollView>

            <ScrollView Grid.Row="1" 
                        VerticalOptions="CenterAndExpand" 
                        HorizontalOptions="CenterAndExpand">
                <StackLayout>
                    <ContentView x:Name="woundView" 
                                 Padding="10, 0" 
                                 IsVisible="false" 
                                 AbsoluteLayout.LayoutBounds="0, 0, 1, 1" 
                                 AbsoluteLayout.LayoutFlags="All">
                        <StackLayout VerticalOptions="Center" 
                                     HorizontalOptions="Center">
                            <StackLayout Orientation="Vertical" 
                                         Padding="10" 
                                         BackgroundColor="White">
                                <Label TextColor="Black" 
                                       VerticalOptions="Center" 
                                       HorizontalOptions="Center" 
                                       VerticalTextAlignment="Center" 
                                       Text="Wound Grading Info:"></Label>
                                <Label TextColor="Black" 
                                       VerticalOptions="Center" 
                                       HorizontalOptions="Center" 
                                       VerticalTextAlignment="Center" 
                                       Text="0: No Wound"></Label>
                                <Label TextColor="Black" 
                                       VerticalOptions="Center" 
                                       HorizontalOptions="Center" 
                                       VerticalTextAlignment="Center" 
                                       Text="1: Small, shallow ulcer"></Label>
                                <Label TextColor="Black" 
                                       VerticalOptions="Center" 
                                       HorizontalOptions="Center" 
                                       VerticalTextAlignment="Center" 
                                       Text="No exposed bone, unless limited to distal phalanx"></Label>
                                <Label TextColor="Black" 
                                       VerticalOptions="Center" 
                                       HorizontalOptions="Center" 
                                       VerticalTextAlignment="Center" 
                                       Text="No gangrene"></Label>
                                <Label TextColor="Black" 
                                       VerticalOptions="Center" 
                                       HorizontalOptions="Center" 
                                       VerticalTextAlignment="Center" 
                                       Text="2: Deeper ulcer with exposed bone joint, or tendon, not involving tissue heel"></Label>
                                <Label TextColor="Black" 
                                       VerticalOptions="Center" 
                                       HorizontalOptions="Center" 
                                       VerticalTextAlignment="Center" 
                                       Text="Shallow heel ulcer without calcaneal involvement"></Label>
                                <Label TextColor="Black" 
                                       VerticalOptions="Center" 
                                       HorizontalOptions="Center" 
                                       VerticalTextAlignment="Center" 
                                       Text="Gangrene limited to digits"></Label>
                                <Label TextColor="Black" 
                                       VerticalOptions="Center" 
                                       HorizontalOptions="Center" 
                                       VerticalTextAlignment="Center" 
                                       Text="3: Extensive, deep ulcer involving forefoot/midfoot"></Label>
                                <Label TextColor="Black" 
                                       VerticalOptions="Center" 
                                       HorizontalOptions="Center" 
                                       VerticalTextAlignment="Center" 
                                       Text="Deep, full thickness heel ulcer and/or calcaneal involvement"></Label>
                                <Label TextColor="Black" 
                                       VerticalOptions="Center" 
                                       HorizontalOptions="Center" 
                                       VerticalTextAlignment="Center" 
                                       Text="Extensive gangrene involving forefoot/midfoot"></Label>
                                <Label TextColor="Black" 
                                       VerticalOptions="Center" 
                                       HorizontalOptions="Center" 
                                       VerticalTextAlignment="Center" 
                                       Text="Full thickness heel necrosis and calcaneal involvement"></Label>
                                <Button HorizontalOptions="Center" 
                                        VerticalOptions="Center" 
                                        Clicked="woundInfoOff" 
                                        Text="Close"></Button>
                            </StackLayout>
                        </StackLayout>
                    </ContentView>
                </StackLayout>
            </ScrollView>
        </Grid>
    </ContentPage.Content>
</ContentPage>